<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="Numeric casts"><meta name="keywords" content="rust, rustlang, rust-lang, az"><title>az - Rust</title><link rel="stylesheet" type="text/css" href="../normalize.css"><link rel="stylesheet" type="text/css" href="../rustdoc.css" id="mainThemeStyle"><link rel="stylesheet" type="text/css" href="../light.css"  id="themeStyle"><link rel="stylesheet" type="text/css" href="../dark.css" disabled ><link rel="stylesheet" type="text/css" href="../ayu.css" disabled ><script id="default-settings"></script><script src="../storage.js"></script><script src="../crates.js"></script><noscript><link rel="stylesheet" href="../noscript.css"></noscript><link rel="icon" type="image/svg+xml" href="../favicon.svg">
<link rel="alternate icon" type="image/png" href="../favicon-16x16.png">
<link rel="alternate icon" type="image/png" href="../favicon-32x32.png"><style type="text/css">#crate-search{background-image:url("../down-arrow.svg");}</style></head><body class="rustdoc mod"><!--[if lte IE 8]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="sidebar"><div class="sidebar-menu" role="button">&#9776;</div><a href='../az/index.html'><div class='logo-container rust-logo'><img src='../rust-logo.png' alt='logo'></div></a><p class="location">Crate az</p><div class="block version"><p>Version 1.1.1</p></div><div class="sidebar-elems"><a id="all-types" href="all.html"><p>See all az's items</p></a><div class="block items"><ul><li><a href="#structs">Structs</a></li><li><a href="#traits">Traits</a></li><li><a href="#functions">Functions</a></li></ul></div><p class="location"></p><div id="sidebar-vars" data-name="az" data-ty="mod" data-relpath="../"></div></div></nav><div class="theme-picker"><button id="theme-picker" aria-label="Pick another theme!" aria-haspopup="menu"><img src="../brush.svg" width="18" height="18" alt="Pick another theme!"></button><div id="theme-choices" role="menu"></div></div><script src="../theme.js"></script><nav class="sub"><form class="search-form"><div class="search-container"><div><select id="crate-search"><option value="All crates">All crates</option></select><input class="search-input" name="search" disabled autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"></div><button type="button" class="help-button">?</button>
                <a id="settings-menu" href="../settings.html"><img src="../wheel.svg" width="18" height="18" alt="Change settings"></a></div></form></nav><section id="main" class="content"><h1 class="fqn"><span class="in-band">Crate <a class="mod" href="">az</a></span><span class="out-of-band"><span id="render-detail"><a id="toggle-all-docs" href="javascript:void(0)" title="collapse all docs">[<span class="inner">&#x2212;</span>]</a></span><a class="srclink" href="../src/az/lib.rs.html#16-962" title="goto source code">[src]</a></span></h1><div class="docblock"><h1 id="numeric-casts" class="section-header"><a href="#numeric-casts">Numeric casts</a></h1>
<p>This crate provides casts and checked casts.</p>
<h2 id="quick-examples" class="section-header"><a href="#quick-examples">Quick examples</a></h2>
<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">use</span> <span class="ident">az</span>::{<span class="ident">Az</span>, <span class="ident">OverflowingAs</span>, <span class="ident">WrappingAs</span>};
<span class="kw">use</span> <span class="ident">core</span>::<span class="ident">num</span>::<span class="ident">Wrapping</span>;

<span class="comment">// Panics on overflow with `debug_assertions`, otherwise wraps</span>
<span class="macro">assert_eq</span><span class="macro">!</span>(<span class="number">12i32</span>.<span class="ident">az</span>::<span class="op">&lt;</span><span class="ident">u32</span><span class="op">&gt;</span>(), <span class="number">12u32</span>);

<span class="comment">// Always wraps</span>
<span class="kw">let</span> <span class="ident">wrapped</span> <span class="op">=</span> <span class="number">1u32</span>.<span class="ident">wrapping_neg</span>();
<span class="macro">assert_eq</span><span class="macro">!</span>((<span class="op">-</span><span class="number">1</span>).<span class="ident">wrapping_as</span>::<span class="op">&lt;</span><span class="ident">u32</span><span class="op">&gt;</span>(), <span class="ident">wrapped</span>);
<span class="macro">assert_eq</span><span class="macro">!</span>((<span class="op">-</span><span class="number">1</span>).<span class="ident">overflowing_as</span>::<span class="op">&lt;</span><span class="ident">u32</span><span class="op">&gt;</span>(), (<span class="ident">wrapped</span>, <span class="bool-val">true</span>));

<span class="comment">// Wrapping can also be obtained using `Wrapping`</span>
<span class="macro">assert_eq</span><span class="macro">!</span>((<span class="op">-</span><span class="number">1</span>).<span class="ident">az</span>::<span class="op">&lt;</span><span class="ident">Wrapping</span><span class="op">&lt;</span><span class="ident">u32</span><span class="op">&gt;</span><span class="op">&gt;</span>().<span class="number">0</span>, <span class="ident">wrapped</span>);</pre></div>
<p>Conversions from floating-point to integers are also supported.
Numbers are rounded towards zero, but the <a href="struct.Round.html"><code>Round</code></a> wrapper can be
used to convert floating-point numbers to integers with rounding to
the nearest, with ties rounded to even.</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">use</span> <span class="ident">az</span>::{<span class="ident">Az</span>, <span class="ident">CheckedAs</span>, <span class="ident">Round</span>, <span class="ident">SaturatingAs</span>};
<span class="kw">use</span> <span class="ident">core</span>::<span class="ident">f32</span>;

<span class="macro">assert_eq</span><span class="macro">!</span>(<span class="number">15.7</span>.<span class="ident">az</span>::<span class="op">&lt;</span><span class="ident">i32</span><span class="op">&gt;</span>(), <span class="number">15</span>);
<span class="macro">assert_eq</span><span class="macro">!</span>(<span class="ident">Round</span>(<span class="number">15.5</span>).<span class="ident">az</span>::<span class="op">&lt;</span><span class="ident">i32</span><span class="op">&gt;</span>(), <span class="number">16</span>);
<span class="macro">assert_eq</span><span class="macro">!</span>(<span class="number">1.5e20</span>.<span class="ident">saturating_as</span>::<span class="op">&lt;</span><span class="ident">i32</span><span class="op">&gt;</span>(), <span class="ident">i32</span>::<span class="ident">max_value</span>());
<span class="macro">assert_eq</span><span class="macro">!</span>(<span class="ident">f32</span>::<span class="ident">NAN</span>.<span class="ident">checked_as</span>::<span class="op">&lt;</span><span class="ident">i32</span><span class="op">&gt;</span>(), <span class="prelude-val">None</span>);</pre></div>
<h2 id="implementing-casts-for-other-types" class="section-header"><a href="#implementing-casts-for-other-types">Implementing casts for other types</a></h2>
<p>To provide casts for another type, you should implement the <a href="trait.Cast.html"><code>Cast</code></a>
trait and if necessary the <a href="trait.CheckedCast.html"><code>CheckedCast</code></a>, <a href="trait.SaturatingCast.html"><code>SaturatingCast</code></a>,
<a href="trait.WrappingCast.html"><code>WrappingCast</code></a>, <a href="trait.OverflowingCast.html"><code>OverflowingCast</code></a> and <a href="trait.UnwrappedCast.html"><code>UnwrappedCast</code></a> traits.
The <a href="trait.Az.html"><code>Az</code></a>, <a href="trait.CheckedAs.html"><code>CheckedAs</code></a>, <a href="trait.SaturatingAs.html"><code>SaturatingAs</code></a>, <a href="trait.WrappingAs.html"><code>WrappingAs</code></a>,
<a href="trait.OverflowingAs.html"><code>OverflowingAs</code></a> and <a href="trait.UnwrappedAs.html"><code>UnwrappedAs</code></a> traits are already implemented
for all types using blanket implementations that make use of the
former traits.</p>
<p>The cast traits can also be implemented for references. This can be
useful for expensive types that are not <a href="https://doc.rust-lang.org/nightly/core/marker/trait.Copy.html"><code>Copy</code></a>. For example if you
have your own integer type that does not implement <a href="https://doc.rust-lang.org/nightly/core/marker/trait.Copy.html"><code>Copy</code></a>, you could
implement casts like in the following example. (The type <code>I</code> could be
an expensive type, for example a bignum integer, but for the example
it is only a wrapped <a href="https://doc.rust-lang.org/nightly/std/primitive.i32.html"><code>i32</code></a>.)</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">use</span> <span class="ident">az</span>::{<span class="ident">Az</span>, <span class="ident">Cast</span>};
<span class="kw">use</span> <span class="ident">core</span>::<span class="ident">borrow</span>::<span class="ident">Borrow</span>;

<span class="kw">struct</span> <span class="ident">I</span>(<span class="ident">i32</span>);
<span class="kw">impl</span> <span class="ident">Cast</span><span class="op">&lt;</span><span class="ident">i64</span><span class="op">&gt;</span> <span class="kw">for</span> <span class="kw-2">&amp;</span><span class="lifetime">&#39;_</span> <span class="ident">I</span> {
    <span class="kw">fn</span> <span class="ident">cast</span>(<span class="self">self</span>) <span class="op">-</span><span class="op">&gt;</span> <span class="ident">i64</span> { <span class="self">self</span>.<span class="number">0</span>.<span class="ident">cast</span>() }
}

<span class="kw">let</span> <span class="ident">owned</span> <span class="op">=</span> <span class="ident">I</span>(<span class="number">12</span>);
<span class="macro">assert_eq</span><span class="macro">!</span>((<span class="kw-2">&amp;</span><span class="ident">owned</span>).<span class="ident">az</span>::<span class="op">&lt;</span><span class="ident">i64</span><span class="op">&gt;</span>(), <span class="number">12</span>);
<span class="comment">// borrow can be used if chaining is required</span>
<span class="macro">assert_eq</span><span class="macro">!</span>(<span class="ident">owned</span>.<span class="ident">borrow</span>().<span class="ident">az</span>::<span class="op">&lt;</span><span class="ident">i64</span><span class="op">&gt;</span>(), <span class="number">12</span>);</pre></div>
<h2 id="using-the-az-crate" class="section-header"><a href="#using-the-az-crate">Using the <em>az</em> crate</a></h2>
<p>The <em>az</em> crate is available on <a href="https://crates.io/crates/az">crates.io</a>. To use it in
your crate, add it as a dependency inside <a href="https://doc.rust-lang.org/cargo/guide/dependencies.html"><em>Cargo.toml</em></a>:</p>
<pre><code class="language-toml">[dependencies]
az = &quot;1.1&quot;
</code></pre>
<p>The crate requires rustc version 1.31.0 or later.</p>
<h2 id="license" class="section-header"><a href="#license">License</a></h2>
<p>This crate is free software: you can redistribute it and/or modify it
under the terms of either</p>
<ul>
<li>the <a href="https://www.apache.org/licenses/LICENSE-2.0">Apache License, Version 2.0</a> or</li>
<li>the <a href="https://opensource.org/licenses/MIT">MIT License</a></li>
</ul>
<p>at your option.</p>
<h3 id="contribution" class="section-header"><a href="#contribution">Contribution</a></h3>
<p>Unless you explicitly state otherwise, any contribution intentionally
submitted for inclusion in the work by you, as defined in the Apache
License, Version 2.0, shall be dual licensed as above, without any
additional terms or conditions.</p>
</div><h2 id="structs" class="section-header"><a href="#structs">Structs</a></h2>
<table><tr class="module-item"><td><a class="struct" href="struct.Round.html" title="az::Round struct">Round</a></td><td class="docblock-short"><p>Used to convert floating-point numbers to integers with rounding
to the nearest, with ties rounded to even.</p>
</td></tr></table><h2 id="traits" class="section-header"><a href="#traits">Traits</a></h2>
<table><tr class="module-item"><td><a class="trait" href="trait.Az.html" title="az::Az trait">Az</a></td><td class="docblock-short"><p>Used to cast values.</p>
</td></tr><tr class="module-item"><td><a class="trait" href="trait.Cast.html" title="az::Cast trait">Cast</a></td><td class="docblock-short"><p>Used to cast values.</p>
</td></tr><tr class="module-item"><td><a class="trait" href="trait.CheckedAs.html" title="az::CheckedAs trait">CheckedAs</a></td><td class="docblock-short"><p>Used for checked casts.</p>
</td></tr><tr class="module-item"><td><a class="trait" href="trait.CheckedCast.html" title="az::CheckedCast trait">CheckedCast</a></td><td class="docblock-short"><p>Used for checked casts.</p>
</td></tr><tr class="module-item"><td><a class="trait" href="trait.OverflowingAs.html" title="az::OverflowingAs trait">OverflowingAs</a></td><td class="docblock-short"><p>Used for overflowing casts.</p>
</td></tr><tr class="module-item"><td><a class="trait" href="trait.OverflowingCast.html" title="az::OverflowingCast trait">OverflowingCast</a></td><td class="docblock-short"><p>Used for overflowing casts.</p>
</td></tr><tr class="module-item"><td><a class="trait" href="trait.SaturatingAs.html" title="az::SaturatingAs trait">SaturatingAs</a></td><td class="docblock-short"><p>Used to cast into the destination type, saturating if the value does not fit.</p>
</td></tr><tr class="module-item"><td><a class="trait" href="trait.SaturatingCast.html" title="az::SaturatingCast trait">SaturatingCast</a></td><td class="docblock-short"><p>Used to cast into the destination type, saturating if the value does not fit.</p>
</td></tr><tr class="module-item"><td><a class="trait" href="trait.UnwrappedAs.html" title="az::UnwrappedAs trait">UnwrappedAs</a></td><td class="docblock-short"><p>Used to cast values, panicking if the value does not fit.</p>
</td></tr><tr class="module-item"><td><a class="trait" href="trait.UnwrappedCast.html" title="az::UnwrappedCast trait">UnwrappedCast</a></td><td class="docblock-short"><p>Used to cast values, panicking if the value does not fit.</p>
</td></tr><tr class="module-item"><td><a class="trait" href="trait.WrappingAs.html" title="az::WrappingAs trait">WrappingAs</a></td><td class="docblock-short"><p>Wrapping cast.</p>
</td></tr><tr class="module-item"><td><a class="trait" href="trait.WrappingCast.html" title="az::WrappingCast trait">WrappingCast</a></td><td class="docblock-short"><p>Wrapping cast.</p>
</td></tr></table><h2 id="functions" class="section-header"><a href="#functions">Functions</a></h2>
<table><tr class="module-item"><td><a class="fn" href="fn.cast.html" title="az::cast fn">cast</a></td><td class="docblock-short"><p>Casts the value.</p>
</td></tr><tr class="module-item"><td><a class="fn" href="fn.checked_cast.html" title="az::checked_cast fn">checked_cast</a></td><td class="docblock-short"><p>Casts the value, returning <a href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html#variant.None"><code>None</code></a> if the value does not fit.</p>
</td></tr><tr class="module-item"><td><a class="fn" href="fn.overflowing_cast.html" title="az::overflowing_cast fn">overflowing_cast</a></td><td class="docblock-short"><p>Overflowing cast.</p>
</td></tr><tr class="module-item"><td><a class="fn" href="fn.saturating_cast.html" title="az::saturating_cast fn">saturating_cast</a></td><td class="docblock-short"><p>Casts the value, saturating if the value does not fit.</p>
</td></tr><tr class="module-item"><td><a class="fn" href="fn.unwrapped_cast.html" title="az::unwrapped_cast fn">unwrapped_cast</a></td><td class="docblock-short"><p>Casts the value, panicking if the value does not fit.</p>
</td></tr><tr class="module-item"><td><a class="fn" href="fn.wrapping_cast.html" title="az::wrapping_cast fn">wrapping_cast</a></td><td class="docblock-short"><p>Casts the value, wrapping on overflow.</p>
</td></tr></table></section><section id="search" class="content hidden"></section><section class="footer"></section><div id="rustdoc-vars" data-root-path="../" data-current-crate="az" data-search-js="../search-index.js"></div>
    <script src="../main.js"></script></body></html>